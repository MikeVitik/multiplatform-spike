<div *ngIf="viewModel$ | async as viewModel"
     class="dx-slide-toggle"
     [class.-left]="viewModel.textPosition === 'left'"
     [class.-right]="viewModel.textPosition === 'right'"
     (click)="updateValue(!viewModel.value)">
  <ng-container [ngTemplateOutlet]="indicatorView || indicatorDefaultTemplate"
                [ngTemplateOutletContext]="{$implicit: viewModel}">
  </ng-container>

  <ng-container [ngTemplateOutlet]="textView || textDefaultTemplate"
                [ngTemplateOutletContext]="{$implicit: viewModel}">
  </ng-container>

</div>

<ng-template #indicatorDefaultTemplate let-viewModel>
  <div class="dx-slide-toggle-indicator"
       [class.-left]="viewModel.textPosition === 'right'"
       [class.-right]="viewModel.textPosition === 'left'">
    <div class="dx-slide-toggle-line"
         [class.-off]="!viewModel.value"
         [class.-on]="viewModel.value">
      <div class="dx-slide-toggle-thumb"
           [class.-off]="!viewModel.value"
           [class.-on]="viewModel.value">
      </div>
    </div>
  </div>
</ng-template>

<ng-template #textDefaultTemplate let-viewModel>
  <div>
    {{ viewModel.text }}
  </div>
</ng-template>
